<h2>–ß—Ç–æ —Ç–∞–∫–æ–µ MVC</h2>
MVC (Model-View-Controller) ‚Äî —ç—Ç–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑–¥–µ–ª—è–µ—Ç –ø—Ä–æ–µ–∫—Ç –Ω–∞ —Ç—Ä–∏ —Å–ª–æ—è:
Model (–ú–æ–¥–µ–ª—å) ‚Äî –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ä–∞–±–æ—Ç—É —Å –¥–∞–Ω–Ω—ã–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±–∞–∑–∞ MySQL).
View (–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ) ‚Äî —Ç–æ, —á—Ç–æ –≤–∏–¥–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (HTML, CSS, JS).
Controller (–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä) ‚Äî –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –º–µ–∂–¥—É –º–æ–¥–µ–ª—å—é –∏ –≤–∏–¥–æ–º, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã, –≤—ã–∑—ã–≤–∞–µ—Ç –Ω—É–∂–Ω—ã–µ –º–æ–¥–µ–ª–∏ –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–æ View.

–¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –¥–µ–ª–∞–µ—Ç –∫–æ–¥:
- –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º,
- –ø—Ä–æ—â–µ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏,
- –≥–∏–±—á–µ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è.

–ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
<pre><code class="language-javascript">
myapp/
‚îÇ
‚îú‚îÄ‚îÄ app.js             # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (Express —Å–µ—Ä–≤–µ—Ä)
‚îú‚îÄ‚îÄ routes/            # –ú–∞—Ä—à—Ä—É—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ index.js
‚îú‚îÄ‚îÄ controllers/       # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ postController.js
‚îú‚îÄ‚îÄ models/            # –ú–æ–¥–µ–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ postModel.js
‚îú‚îÄ‚îÄ views/             # –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è (—à–∞–±–ª–æ–Ω—ã –∏–ª–∏ —Å—Ç–∞—Ç–∏–∫–∞)
‚îÇ   ‚îî‚îÄ‚îÄ posts.ejs
‚îî‚îÄ‚îÄ public/
‚îÇ   ‚îî‚îÄ‚îÄ img
‚îÇ   ‚îî‚îÄ‚îÄ js
‚îÇ   ‚îî‚îÄ‚îÄ css
‚îî‚îÄ‚îÄ package.json

</code></pre>

<h3>–®–∞–≥ 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞</h3>
app.js
<pre><code class="language-javascript">
const express = require('express');
const app = express();
const routes = require('./routes/index');

app.set('view engine', 'ejs'); // –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ejs/pug/handlebars
app.use(express.urlencoded({ extended: true }));
app.use(express.json());

// –ü–æ–¥–∫–ª—é—á–∞–µ–º –º–∞—Ä—à—Ä—É—Ç—ã
app.use('/', routes);

const PORT = 3000;
app.listen(PORT, () => console.log(`Server started on http://localhost:${PORT}`));
</code></pre>
<h3>–®–∞–≥ 2. –ú–∞—Ä—à—Ä—É—Ç—ã</h3>
routes/index.js
<pre><code class="language-javascript">
const express = require('express');
const router = express.Router();
const postController = require('../controllers/postController');

// —Å–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–æ–≤
router.get('/posts', postController.list);

// –æ–¥–∏–Ω –ø–æ—Å—Ç
router.get('/posts/:id', postController.details);

// —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø–æ—Å—Ç (–ø—Ä–∏–º–µ—Ä POST –∑–∞–ø—Ä–æ—Å–∞)
router.post('/posts', postController.create);

module.exports = router;
</code></pre>
<h3>–®–∞–≥ 3. –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã</h3>
controllers/postController.js
<pre><code class="language-javascript">
const Post = require('../models/postModel');

exports.list = async (req, res) => {
  const posts = await Post.getAll();
  res.render('posts', { posts });
};

exports.details = async (req, res) => {
  const post = await Post.getById(req.params.id);
  if (!post) return res.status(404).send('Not found');
  res.json(post);
};

exports.create = async (req, res) => {
  const { title, content } = req.body;
  await Post.create(title, content);
  res.redirect('/posts');
};
</code></pre>
<h3>–®–∞–≥ 4. –ú–æ–¥–µ–ª–∏</h3>
models/postModel.js
<pre><code class="language-javascript">
const mysql = require('mysql2/promise');

const pool = mysql.createPool({
  host: 'localhost',
  user: 'root',
  database: 'mvc_test'
});

exports.getAll = async () => {
  const [rows] = await pool.query('SELECT * FROM posts ORDER BY created_at DESC');
  return rows;
};

exports.getById = async (id) => {
  const [rows] = await pool.query('SELECT * FROM posts WHERE id = ?', [id]);
  return rows[0];
};

exports.create = async (title, content) => {
  await pool.query('INSERT INTO posts (title, content, created_at) VALUES (?, ?, UNIX_TIMESTAMP())', [title, content]);
};
</code></pre>
<h3>–®–∞–≥ 5. –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è</h3>
views/posts.ejs
<pre><code class="language-html">
<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8">
    <title>–ü–æ—Å—Ç—ã</title>
  </head>
  <body>
  <h1>–°–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–æ–≤</h1>

  <ul>
    <% posts.forEach(p => { %>
        <li><b><%= p.title %></b> ‚Äî <%= p.content %></li>
    <% }) %>
  </ul>

  <form action="/posts" method="POST">
    <input type="text" name="title" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫">
    <textarea name="content" placeholder="–¢–µ–∫—Å—Ç"></textarea>
    <button type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
  </form>
  </body>
</html>
</code></pre>
<h3>–ò—Ç–æ–≥</h3>
–ú—ã –ø–æ–ª—É—á–∏–ª–∏ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–µ MVC-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Node.js:
Model (postModel) —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ë–î.
Controller (postController) –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –º–æ–¥–µ–ª—å.
View (EJS) –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ.
Router —É–ø—Ä–∞–≤–ª—è–µ—Ç –º–∞—Ä—à—Ä—É—Ç–∞–º–∏.
app.js —Å–≤—è–∑—ã–≤–∞–µ—Ç –≤—Å—ë –≤–º–µ—Å—Ç–µ.

üëâ –ù–∞ —Ç–∞–∫–æ–º –ø–æ–¥—Ö–æ–¥–µ –ª–µ–≥–∫–æ —Å—Ç—Ä–æ–∏—Ç—å –Ω–æ–≤–æ—Å—Ç–Ω–∏–∫–∏, –±–ª–æ–≥–∏, –º–∞–≥–∞–∑–∏–Ω—ã, —á–∞—Ç—ã ‚Äî –ª—é–±–æ–µ CRUD-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.